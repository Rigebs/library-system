<div class="home-container">
    <header class="hero-section">
        <div class="hero-content-wrapper">

            <img [src]="'/images/hero.jfif'" alt="Estantería llena de libros" width="800" height="450" priority
                class="hero-image" />

            <div class="hero-text-content">
                <h1>Bienvenido a la Biblioteca Digital</h1>
                <p>Explora nuestro catálogo de libros y recursos.</p>

                <div class="hero-actions">
                    <button (click)="incrementVisits()">
                        Visitas Registradas: {{ visits() }}
                    </button>
                    <p class="greeting">{{ welcomeMessage() }}</p>
                </div>
            </div>
        </div>
    </header>

    <section class="featured-books">
        <h2>Catálogo de Libros Disponibles</h2>

        @if (isLoading()) {
        <p class="loading-message">
            <img src="/icons/loading.svg" alt="Cargando" class="icon-loading" width="24" height="24" />
            Cargando libros...
        </p>
        }

        @if (loadingError()) {
        <p class="error-message">{{ loadingError() }}</p>
        }

        @if (!isLoading() && !loadingError() && availableBooks().length === 0 && currentSearchTerm()) {
        <div class="no-results-message">
            <img src="/icons/search-off.svg" alt="Sin resultados" class="icon-no-results" width="40" height="40" />
            <h3>No se encontraron resultados</h3>
            <p>No hay libros que coincidan con la búsqueda: <strong>"{{ currentSearchTerm() }}"</strong>.</p>
            <p class="suggestion">Intenta una búsqueda diferente o verifica la ortografía.</p>
        </div>
        }

        @if (!isLoading() && !loadingError() && availableBooks().length > 0) {
        <div class="book-list">
            @for (book of availableBooks(); track book.id) {
            <app-book-card [book]="book" />
            }
        </div>
        }

    </section>
</div>